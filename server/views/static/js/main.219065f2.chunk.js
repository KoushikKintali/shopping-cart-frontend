(this["webpackJsonpshopping-cart-frontend"]=this["webpackJsonpshopping-cart-frontend"]||[]).push([[0],{11:function(t,e,r){t.exports={cart:"cart_cart__27kVd",productCard:"cart_productCard__1fKpc",productImage:"cart_productImage__1J4bV",productInfo:"cart_productInfo__3Ec8l",productBrandName:"cart_productBrandName__3TO14",productName:"cart_productName__c3pQc",productPrice:"cart_productPrice__3H77G",removeCartItem:"cart_removeCartItem__Xpns-",backButton:"cart_backButton__3-FEH",emptyCart:"cart_emptyCart__1xgA2"}},24:function(t,e,r){t.exports={header:"header_header__3wy06",cartCount:"header_cartCount__1uNY1",title:"header_title__364Np"}},29:function(t,e,r){t.exports={app:"app_app__3mk8F",appContainer:"app_appContainer__30PKY"}},5:function(t,e,r){t.exports={productListContainer:"product_productListContainer__z-K18",productItem:"product_productItem__288Xk",productCard:"product_productCard__3bWIu",productInfo:"product_productInfo__3JR3I",productImage:"product_productImage__9TTID",productBrandName:"product_productBrandName__2kRBv",productName:"product_productName__2WTd4",productSizeInfo:"product_productSizeInfo__Nns_f",sizeIcon:"product_sizeIcon__i_xNj",productCardFooter:"product_productCardFooter__YfCCG",addToCart:"product_addToCart__ptWEF",removeFromCart:"product_removeFromCart__1ctPn"}},69:function(t,e,r){},70:function(t,e,r){"use strict";r.r(e);var c=r(0),a=r.n(c),o=r(21),n=r.n(o),s=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,71)).then((function(e){var r=e.getCLS,c=e.getFID,a=e.getFCP,o=e.getLCP,n=e.getTTFB;r(t),c(t),a(t),o(t),n(t)}))},i=r(12),d=r(19),l=r(38),u=r(39),p=r(10),j="ADD_TO_CART",m="REMOVE_FROM_CART",h=function(t){return{type:m,payload:t}},b={list:[]},O=r(40),_=r.n(O),v="FETCH_PRODUCTS",f="TOGGLE_PRODUCTS_LOADING",C="SET_SCROLL_VALUE",x=function(t){return{type:v,payload:t}},g=function(){return{type:f}},N={list:[],totalCount:void 0,loading:!1,scrollVal:0},I={products:N,cart:b},y=Object(d.combineReducers)({products:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v:return Object(p.a)(Object(p.a)({},t),{},{list:0===e.payload.skip?e.payload.list:t.list.concat(e.payload.list),totalCount:e.payload.totalCount});case f:return Object(p.a)(Object(p.a)({},t),{},{loading:!t.loading});case C:return Object(p.a)(Object(p.a)({},t),{},{scrollVal:e.payload});default:return t}},cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return Object(p.a)(Object(p.a)({},t),{},{list:t.list.concat(e.payload)});case m:return Object(p.a)(Object(p.a)({},t),{},{list:t.list.filter((function(t){return t.productId!==e.payload}))});default:return t}}}),T=[u.a],S=Object(d.createStore)(y,I,Object(l.composeWithDevTools)(d.applyMiddleware.apply(void 0,T))),k=r(15),F=r(3),B=r(13),L=r(14),R=r(17),P=r(16),V=r.p+"static/media/cancel.ea7c95d7.svg",z=r.p+"static/media/angle-left.bf434222.svg",E=r(11),w=r.n(E),D=r(1),A=function(t){Object(R.a)(r,t);var e=Object(P.a)(r);function r(){return Object(B.a)(this,r),e.apply(this,arguments)}return Object(L.a)(r,[{key:"render",value:function(){var t=this;return Object(D.jsxs)("div",{className:w.a.cart,children:[this.props.list.length>0?this.props.list.map((function(e){return Object(D.jsxs)("div",{className:w.a.productCard+" card d-flex",children:[Object(D.jsx)("img",{className:w.a.productImage,src:e.searchImage,alt:"shirt"}),Object(D.jsxs)("div",{className:w.a.productInfo,children:[Object(D.jsxs)("div",{className:"d-flex",children:[Object(D.jsx)("div",{className:w.a.productBrandName,children:e.brand}),Object(D.jsx)("div",{className:w.a.removeCartItem,children:Object(D.jsx)("img",{src:V,alt:"Remove from Cart",role:"button",onClick:function(){t.props.removeFromCart(e.productId)}})})]}),Object(D.jsx)("div",{className:w.a.productName,title:e.productName,children:e.productName}),Object(D.jsxs)("div",{className:w.a.productPrice,children:[Object(D.jsx)("div",{children:"\u20b9"}),Object(D.jsx)("div",{children:Object(D.jsxs)("h2",{className:"m-0",children:[" ",e.mrp," "]})})]})]})]},e.productId)})):Object(D.jsx)("div",{className:w.a.emptyCart,children:"Your cart is empty"}),Object(D.jsx)("div",{className:w.a.backButton,children:Object(D.jsx)(k.b,{to:"/",children:Object(D.jsx)("img",{className:"card",src:z,alt:"Back to list view"})})})]})}}]),r}(a.a.Component),H={removeFromCart:h},G=Object(i.b)((function(t){return{list:t.cart.list}}),H)(A),M=r(23),W=r(5),J=r.n(W),U=r.p+"static/media/shopping-cart-solid.ef8f0a22.svg",Y=function(t){Object(R.a)(r,t);var e=Object(P.a)(r);function r(){return Object(B.a)(this,r),e.apply(this,arguments)}return Object(L.a)(r,[{key:"isCartItem",value:function(){var t=this;return-1!==this.props.list.findIndex((function(e){return e.productId===t.props.product.productId}))}},{key:"render",value:function(){var t=this.props;return Object(D.jsx)("div",{className:J.a.productItem,children:Object(D.jsxs)("div",{className:J.a.productCard+" card",children:[Object(D.jsx)("img",{className:J.a.productImage,src:t.product.searchImage,alt:"shirt"}),Object(D.jsxs)("div",{className:J.a.productInfo,children:[Object(D.jsx)("div",{className:J.a.productBrandName,children:t.product.brand}),Object(D.jsx)("div",{className:J.a.productName,title:t.product.productName,children:t.product.productName}),t.product.sizes&&Object(D.jsxs)("div",{className:J.a.productSizeInfo,children:["Sizes:",t.product.sizes.split(",").map((function(t,e){return Object(D.jsx)("div",{className:J.a.sizeIcon,children:t},e)}))]}),Object(D.jsxs)("div",{className:J.a.productCardFooter,children:[Object(D.jsxs)("div",{className:"d-flex align-items-baseline",children:[Object(D.jsx)("div",{children:"\u20b9"}),Object(D.jsx)("div",{children:Object(D.jsxs)("h2",{className:"m-0",children:[" ",t.product.mrp," "]})})]}),this.isCartItem()?Object(D.jsxs)("div",{role:"button",className:J.a.removeFromCart,onClick:function(){return t.removeFromCart(t.product.productId)},children:[Object(D.jsx)("span",{className:"ml-auto",children:"Remove from Cart"}),Object(D.jsx)("img",{src:U,alt:"Remove from Cart"})]}):Object(D.jsxs)("div",{role:"button",onClick:function(){return t.addToCart(t.product)},className:J.a.addToCart,children:[Object(D.jsx)("span",{className:"ml-auto",children:"Add to Cart"}),Object(D.jsx)("img",{src:U,alt:"Add to Cart"})]})]})]})]})})}}]),r}(a.a.Component),K={addToCart:function(t){return{type:j,payload:t}},removeFromCart:h},q=Object(i.b)((function(t){return{list:t.cart.list}}),K)(Y),X=function(t){Object(R.a)(r,t);var e=Object(P.a)(r);function r(t){var c;return Object(B.a)(this,r),(c=e.call(this,t)).handleScroll=function(t){var e=t.target.scrollHeight-t.target.clientHeight-t.target.scrollTop<100;!c.props.loading&&c.props.list.length<c.props.totalCount&&e&&c.props.getProducts(c.props.list.length)},c.handleInput=function(t){var e=t.target.value;c.debounce(e,3e3),console.log("asd",c.state.searchString)},c.debounce=function(t,e){var r,a=Object(M.a)(c);clearTimeout(r),console.log("THIS",a),r=setTimeout((function(){a.setState({searchString:t})}),e)},c.state={products:[],searchString:""},c}return Object(L.a)(r,[{key:"componentDidMount",value:function(){0===this.props.list.length&&this.props.getProducts(0);var t=document.querySelector("#product-container");t&&t.scrollTo(0,this.props.scrollVal)}},{key:"componentWillUnmount",value:function(){var t=document.querySelector("#product-container");t&&this.props.setScrollValue(t.scrollTop)}},{key:"render",value:function(){var t=this;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{children:Object(D.jsx)("input",{onChange:this.handleInput})}),Object(D.jsx)("div",{id:"product-container",className:J.a.productListContainer,onScroll:this.handleScroll,children:this.props.list.filter((function(e){return e.productName.toLowerCase().includes(t.state.searchString.trim().toLowerCase())})).map((function(t,e){return Object(D.jsx)(q,{product:t},e)}))}),this.props.loading&&Object(D.jsx)("div",{className:"loader",children:"Loading..."})]})}}]),r}(a.a.Component),Q={getProducts:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return function(r){r(g()),_.a.get("http://localhost:3001/products",{params:{skip:t,count:e}}).then((function(e){r(x({list:e.data.products,skip:t,totalCount:e.data.totalCount}))})).finally((function(){r(g())}))}},setScrollValue:function(t){return{type:C,payload:t}}},Z=Object(i.b)((function(t){return{list:t.products.list,totalCount:t.products.totalCount,loading:t.products.loading,scrollVal:t.products.scrollVal}}),Q)(X),$=r(24),tt=r.n($),et=function(t){Object(R.a)(r,t);var e=Object(P.a)(r);function r(){return Object(B.a)(this,r),e.apply(this,arguments)}return Object(L.a)(r,[{key:"render",value:function(){return Object(D.jsxs)("div",{className:tt.a.header,children:[Object(D.jsx)(k.b,{to:"/",children:Object(D.jsx)("div",{className:tt.a.title,children:"Frieght Tiger"})}),Object(D.jsx)("div",{className:"ml-auto",children:Object(D.jsxs)(k.b,{to:"/cart",children:[Object(D.jsx)("img",{src:U,alt:"cart"}),Object(D.jsx)("span",{className:tt.a.cartCount+(this.props.list.length>0?"":" invisible"),children:this.props.list.length})]})})]})}}]),r}(a.a.Component),rt=Object(i.b)((function(t){return{list:t.cart.list}}),{})(et),ct=r(29),at=r.n(ct);var ot=function(){return Object(D.jsxs)("div",{className:at.a.app,children:[Object(D.jsx)(rt,{}),Object(D.jsx)("div",{className:at.a.appContainer,children:Object(D.jsxs)(F.c,{children:[Object(D.jsx)(F.a,{path:"/",exact:!0,component:Z}),Object(D.jsx)(F.a,{path:"/cart",exact:!0,component:G})]})})]})};r(69);n.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(i.a,{store:S,children:Object(D.jsx)(k.a,{children:Object(D.jsx)(ot,{})})})}),document.getElementById("root")),s()}},[[70,1,2]]]);
//# sourceMappingURL=main.219065f2.chunk.js.map